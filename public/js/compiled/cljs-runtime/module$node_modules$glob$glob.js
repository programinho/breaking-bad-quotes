shadow$provide.module$node_modules$glob$glob=function(global,require,module,exports){function glob(pattern,options,cb){"function"===typeof options&&(cb=options,options={});options||(options={});if(options.sync){if(cb)throw new TypeError("callback provided to sync glob");return globSync(pattern,options)}return new Glob(pattern,options,cb)}function Glob(pattern,options,cb){function done(){--self._processing;0>=self._processing&&(sync?process.nextTick(function(){self._finish()}):self._finish())}"function"===
typeof options&&(cb=options,options=null);if(options&&options.sync){if(cb)throw new TypeError("callback provided to sync glob");return new GlobSync(pattern,options)}if(!(this instanceof Glob))return new Glob(pattern,options,cb);setopts(this,pattern,options);this._didRealPath=!1;pattern=this.minimatch.set.length;this.matches=Array(pattern);"function"===typeof cb&&(cb=once(cb),this.on("error",cb),this.on("end",function(matches){cb(null,matches)}));var self=this;this._processing=0;this._emitQueue=[];
this._processQueue=[];this.paused=!1;if(this.noprocess)return this;if(0===pattern)return done();var sync=!0;for(options=0;options<pattern;options++)this._process(this.minimatch.set[options],options,!1,done);sync=!1}function readdirCb(self,abs,cb){return function(er,entries){er?self._readdirError(abs,er,cb):self._readdirEntries(abs,entries,cb)}}var process=require("module$node_modules$process$browser");module.exports=glob;var fs=require("shadow$empty"),rp=require("module$node_modules$fs_DOT_realpath$index"),
minimatch=require("module$node_modules$minimatch$minimatch");global=require("module$node_modules$inherits$inherits_browser");module=require("module$node_modules$events$events").EventEmitter;var path=require("module$node_modules$path_browserify$index"),assert=require("module$node_modules$assert$assert"),isAbsolute=require("module$node_modules$path_is_absolute$index"),globSync=require("module$node_modules$glob$sync"),common=require("module$node_modules$glob$common"),setopts=common.setopts,ownProp=common.ownProp,
inflight=require("module$node_modules$inflight$inflight");require("module$node_modules$util$util");var childrenIgnored=common.childrenIgnored,isIgnored=common.isIgnored,once=require("module$node_modules$once$once");glob.sync=globSync;var GlobSync=glob.GlobSync=globSync.GlobSync;glob.glob=glob;glob.hasMagic=function(pattern,options_){var origin={};if(null!==options_&&"object"===typeof options_)for(var keys=Object.keys(options_),i=keys.length;i--;)origin[keys[i]]=options_[keys[i]];origin.noprocess=
!0;options_=(new Glob(pattern,origin)).minimatch.set;if(!pattern)return!1;if(1<options_.length)return!0;for(pattern=0;pattern<options_[0].length;pattern++)if("string"!==typeof options_[0][pattern])return!0;return!1};glob.Glob=Glob;global(Glob,module);Glob.prototype._finish=function(){assert(this instanceof Glob);if(!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();common.finish(this);this.emit("end",this.found)}};Glob.prototype._realpath=function(){function next(){0===--n&&
self._finish()}if(!this._didRealpath){this._didRealpath=!0;var n=this.matches.length;if(0===n)return this._finish();for(var self=this,i=0;i<this.matches.length;i++)this._realpathSet(i,next)}};Glob.prototype._realpathSet=function(index,cb){var matchset=this.matches[index];if(!matchset)return cb();matchset=Object.keys(matchset);var self=this,n=matchset.length;if(0===n)return cb();var set=this.matches[index]=Object.create(null);matchset.forEach(function(p,i){p=self._makeAbs(p);rp.realpath(p,self.realpathCache,
function(er,real){er?"stat"===er.syscall?set[p]=!0:self.emit("error",er):set[real]=!0;0===--n&&(self.matches[index]=set,cb())})})};Glob.prototype._mark=function(p){return common.mark(this,p)};Glob.prototype._makeAbs=function(f){return common.makeAbs(this,f)};Glob.prototype.abort=function(){this.aborted=!0;this.emit("abort")};Glob.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};Glob.prototype.resume=function(){if(this.paused){this.emit("resume");this.paused=!1;if(this._emitQueue.length)for(var eq=
this._emitQueue.slice(0),i=this._emitQueue.length=0;i<eq.length;i++){var e=eq[i];this._emitMatch(e[0],e[1])}if(this._processQueue.length)for(eq=this._processQueue.slice(0),i=this._processQueue.length=0;i<eq.length;i++)e=eq[i],this._processing--,this._process(e[0],e[1],e[2],e[3])}};Glob.prototype._process=function(pattern,index,inGlobStar,cb){assert(this instanceof Glob);assert("function"===typeof cb);if(!this.aborted)if(this._processing++,this.paused)this._processQueue.push([pattern,index,inGlobStar,
cb]);else{for(var n=0;"string"===typeof pattern[n];)n++;switch(n){case pattern.length:this._processSimple(pattern.join("/"),index,cb);return;case 0:var prefix=null;break;default:prefix=pattern.slice(0,n).join("/")}n=pattern.slice(n);if(null===prefix)pattern=".";else{if(isAbsolute(prefix)||isAbsolute(pattern.join("/")))prefix&&isAbsolute(prefix)||(prefix="/"+prefix);pattern=prefix}var abs=this._makeAbs(pattern);if(childrenIgnored(this,pattern))return cb();n[0]===minimatch.GLOBSTAR?this._processGlobStar(prefix,
pattern,abs,n,index,inGlobStar,cb):this._processReaddir(prefix,pattern,abs,n,index,inGlobStar,cb)}};Glob.prototype._processReaddir=function(prefix,read,abs,remain,index,inGlobStar,cb){var self=this;this._readdir(abs,inGlobStar,function(er,entries){return self._processReaddir2(prefix,read,abs,remain,index,inGlobStar,entries,cb)})};Glob.prototype._processReaddir2=function(prefix,read,abs,remain,index,inGlobStar,entries,cb){if(!entries)return cb();read=remain[0];abs=!!this.minimatch.negate;var rawGlob=
read._glob,dotOk=this.dot||"."===rawGlob.charAt(0);rawGlob=[];for(var i=0;i<entries.length;i++){var e=entries[i];("."!==e.charAt(0)||dotOk)&&(abs&&!prefix?!e.match(read):e.match(read))&&rawGlob.push(e)}entries=rawGlob.length;if(0===entries)return cb();if(1===remain.length&&!this.mark&&!this.stat){this.matches[index]||(this.matches[index]=Object.create(null));for(i=0;i<entries;i++)e=rawGlob[i],prefix&&(e="/"!==prefix?prefix+"/"+e:prefix+e),"/"!==e.charAt(0)||this.nomount||(e=path.join(this.root,e)),
this._emitMatch(index,e);return cb()}remain.shift();for(i=0;i<entries;i++)e=rawGlob[i],prefix&&(e="/"!==prefix?prefix+"/"+e:prefix+e),this._process([e].concat(remain),index,inGlobStar,cb);cb()};Glob.prototype._emitMatch=function(index,e){if(!this.aborted&&!isIgnored(this,e))if(this.paused)this._emitQueue.push([index,e]);else{var abs=isAbsolute(e)?e:this._makeAbs(e);this.mark&&(e=this._mark(e));this.absolute&&(e=abs);if(!this.matches[index][e]){if(this.nodir){var c=this.cache[abs];if("DIR"===c||Array.isArray(c))return}this.matches[index][e]=
!0;(index=this.statCache[abs])&&this.emit("stat",e,index);this.emit("match",e)}}};Glob.prototype._readdirInGlobStar=function(abs,cb){if(!this.aborted){if(this.follow)return this._readdir(abs,!1,cb);var self=this,lstatcb=inflight("lstat\x00"+abs,function(er,lstat){if(er&&"ENOENT"===er.code)return cb();er=lstat&&lstat.isSymbolicLink();(self.symlinks[abs]=er)||!lstat||lstat.isDirectory()?self._readdir(abs,!1,cb):(self.cache[abs]="FILE",cb())});lstatcb&&fs.lstat(abs,lstatcb)}};Glob.prototype._readdir=
function(abs,inGlobStar,cb){if(!this.aborted&&(cb=inflight("readdir\x00"+abs+"\x00"+inGlobStar,cb))){if(inGlobStar&&!ownProp(this.symlinks,abs))return this._readdirInGlobStar(abs,cb);if(ownProp(this.cache,abs)){inGlobStar=this.cache[abs];if(!inGlobStar||"FILE"===inGlobStar)return cb();if(Array.isArray(inGlobStar))return cb(null,inGlobStar)}fs.readdir(abs,readdirCb(this,abs,cb))}};Glob.prototype._readdirEntries=function(abs,entries,cb){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<entries.length;i++){var e=
entries[i];e="/"===abs?abs+e:abs+"/"+e;this.cache[e]=!0}this.cache[abs]=entries;return cb(null,entries)}};Glob.prototype._readdirError=function(f,er,cb){if(!this.aborted){switch(er.code){case "ENOTSUP":case "ENOTDIR":f=this._makeAbs(f);this.cache[f]="FILE";f===this.cwdAbs&&(f=Error(er.code+" invalid cwd "+this.cwd),f.path=this.cwd,f.code=er.code,this.emit("error",f),this.abort());break;case "ENOENT":case "ELOOP":case "ENAMETOOLONG":case "UNKNOWN":this.cache[this._makeAbs(f)]=!1;break;default:this.cache[this._makeAbs(f)]=
!1,this.strict&&(this.emit("error",er),this.abort()),this.silent||console.error("glob error",er)}return cb()}};Glob.prototype._processGlobStar=function(prefix,read,abs,remain,index,inGlobStar,cb){var self=this;this._readdir(abs,inGlobStar,function(er,entries){self._processGlobStar2(prefix,read,abs,remain,index,inGlobStar,entries,cb)})};Glob.prototype._processGlobStar2=function(prefix,read,abs,remain,index,inGlobStar,entries,cb){if(!entries)return cb();read=remain.slice(1);prefix=prefix?[prefix]:[];
var noGlobStar=prefix.concat(read);this._process(noGlobStar,index,!1,cb);noGlobStar=entries.length;if(this.symlinks[abs]&&inGlobStar)return cb();for(abs=0;abs<noGlobStar;abs++)if("."!==entries[abs].charAt(0)||this.dot)inGlobStar=prefix.concat(entries[abs],read),this._process(inGlobStar,index,!0,cb),inGlobStar=prefix.concat(entries[abs],remain),this._process(inGlobStar,index,!0,cb);cb()};Glob.prototype._processSimple=function(prefix,index,cb){var self=this;this._stat(prefix,function(er,exists){self._processSimple2(prefix,
index,er,exists,cb)})};Glob.prototype._processSimple2=function(prefix,index,er,exists,cb){this.matches[index]||(this.matches[index]=Object.create(null));if(!exists)return cb();prefix&&isAbsolute(prefix)&&!this.nomount&&(er=/[\/\\]$/.test(prefix),"/"===prefix.charAt(0)?prefix=path.join(this.root,prefix):(prefix=path.resolve(this.root,prefix),er&&(prefix+="/")));"win32"===process.platform&&(prefix=prefix.replace(/\\/g,"/"));this._emitMatch(index,prefix);cb()};Glob.prototype._stat=function(f,cb){var abs=
this._makeAbs(f),needDir="/"===f.slice(-1);if(f.length>this.maxLength)return cb();if(!this.stat&&ownProp(this.cache,abs)){var c=this.cache[abs];Array.isArray(c)&&(c="DIR");if(!needDir||"DIR"===c)return cb(null,c);if(needDir&&"FILE"===c)return cb()}c=this.statCache[abs];if(void 0!==c){if(!1===c)return cb(null,c);var type=c.isDirectory()?"DIR":"FILE";return needDir&&"FILE"===type?cb():cb(null,type,c)}var self=this;(needDir=inflight("stat\x00"+abs,function(er$jscomp$0,lstat){if(lstat&&lstat.isSymbolicLink())return fs.stat(abs,
function(er,stat){er?self._stat2(f,abs,null,lstat,cb):self._stat2(f,abs,er,stat,cb)});self._stat2(f,abs,er$jscomp$0,lstat,cb)}))&&fs.lstat(abs,needDir)};Glob.prototype._stat2=function(f,abs,er,stat,cb){if(er&&("ENOENT"===er.code||"ENOTDIR"===er.code))return this.statCache[abs]=!1,cb();f="/"===f.slice(-1);this.statCache[abs]=stat;if("/"===abs.slice(-1)&&stat&&!stat.isDirectory())return cb(null,!1,stat);er=!0;stat&&(er=stat.isDirectory()?"DIR":"FILE");this.cache[abs]=this.cache[abs]||er;return f&&"FILE"===
er?cb():cb(null,er,stat)}}
//# sourceMappingURL=module$node_modules$glob$glob.js.map
