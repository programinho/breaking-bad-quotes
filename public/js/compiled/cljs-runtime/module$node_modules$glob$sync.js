shadow$provide.module$node_modules$glob$sync=function(global,require,module,exports){function globSync(pattern,options){if("function"===typeof options||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return(new GlobSync(pattern,options)).found}function GlobSync(pattern,options){if(!pattern)throw Error("must provide pattern");if("function"===typeof options||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");
if(!(this instanceof GlobSync))return new GlobSync(pattern,options);setopts(this,pattern,options);if(this.noprocess)return this;var n=this.minimatch.set.length;this.matches=Array(n);for(var i=0;i<n;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}var process=require("module$node_modules$process$browser");module.exports=globSync;globSync.GlobSync=GlobSync;var fs=require("shadow$empty"),rp=require("module$node_modules$fs_DOT_realpath$index"),minimatch=require("module$node_modules$minimatch$minimatch");
require("module$node_modules$glob$glob");require("module$node_modules$util$util");var path=require("module$node_modules$path_browserify$index"),assert=require("module$node_modules$assert$assert"),isAbsolute=require("module$node_modules$path_is_absolute$index"),common=require("module$node_modules$glob$common"),setopts=common.setopts,ownProp=common.ownProp,childrenIgnored=common.childrenIgnored,isIgnored=common.isIgnored;GlobSync.prototype._finish=function(){assert(this instanceof GlobSync);if(this.realpath){var self=
this;this.matches.forEach(function(matchset,index){index=self.matches[index]=Object.create(null);for(var p in matchset)try{p=self._makeAbs(p);var real=rp.realpathSync(p,self.realpathCache);index[real]=!0}catch(er){if("stat"===er.syscall)index[self._makeAbs(p)]=!0;else throw er;}})}common.finish(this)};GlobSync.prototype._process=function(pattern,index,inGlobStar){assert(this instanceof GlobSync);for(var n=0;"string"===typeof pattern[n];)n++;switch(n){case pattern.length:this._processSimple(pattern.join("/"),
index);return;case 0:var prefix=null;break;default:prefix=pattern.slice(0,n).join("/")}n=pattern.slice(n);if(null===prefix)pattern=".";else{if(isAbsolute(prefix)||isAbsolute(pattern.join("/")))prefix&&isAbsolute(prefix)||(prefix="/"+prefix);pattern=prefix}var abs=this._makeAbs(pattern);childrenIgnored(this,pattern)||(n[0]===minimatch.GLOBSTAR?this._processGlobStar(prefix,pattern,abs,n,index,inGlobStar):this._processReaddir(prefix,pattern,abs,n,index,inGlobStar))};GlobSync.prototype._processReaddir=
function(prefix,read,abs,remain,index,inGlobStar){if(read=this._readdir(abs,inGlobStar)){abs=remain[0];var negate=!!this.minimatch.negate,rawGlob=abs._glob,dotOk=this.dot||"."===rawGlob.charAt(0);rawGlob=[];for(var i=0;i<read.length;i++){var e=read[i];("."!==e.charAt(0)||dotOk)&&(negate&&!prefix?!e.match(abs):e.match(abs))&&rawGlob.push(e)}read=rawGlob.length;if(0!==read)if(1!==remain.length||this.mark||this.stat)for(remain.shift(),i=0;i<read;i++)e=rawGlob[i],this._process((prefix?[prefix,e]:[e]).concat(remain),
index,inGlobStar);else for(this.matches[index]||(this.matches[index]=Object.create(null)),i=0;i<read;i++)e=rawGlob[i],prefix&&(e="/"!==prefix.slice(-1)?prefix+"/"+e:prefix+e),"/"!==e.charAt(0)||this.nomount||(e=path.join(this.root,e)),this._emitMatch(index,e)}};GlobSync.prototype._emitMatch=function(index,e){if(!isIgnored(this,e)){var abs=this._makeAbs(e);this.mark&&(e=this._mark(e));this.absolute&&(e=abs);if(!this.matches[index][e]){if(this.nodir&&(abs=this.cache[abs],"DIR"===abs||Array.isArray(abs)))return;
this.matches[index][e]=!0;this.stat&&this._stat(e)}}};GlobSync.prototype._readdirInGlobStar=function(abs){if(this.follow)return this._readdir(abs,!1);var entries;try{var lstat=fs.lstatSync(abs)}catch(er){if("ENOENT"===er.code)return null}var isSym=lstat&&lstat.isSymbolicLink();(this.symlinks[abs]=isSym)||!lstat||lstat.isDirectory()?entries=this._readdir(abs,!1):this.cache[abs]="FILE";return entries};GlobSync.prototype._readdir=function(abs,inGlobStar){if(inGlobStar&&!ownProp(this.symlinks,abs))return this._readdirInGlobStar(abs);
if(ownProp(this.cache,abs)){inGlobStar=this.cache[abs];if(!inGlobStar||"FILE"===inGlobStar)return null;if(Array.isArray(inGlobStar))return inGlobStar}try{return this._readdirEntries(abs,fs.readdirSync(abs))}catch(er){return this._readdirError(abs,er),null}};GlobSync.prototype._readdirEntries=function(abs,entries){if(!this.mark&&!this.stat)for(var i=0;i<entries.length;i++){var e=entries[i];e="/"===abs?abs+e:abs+"/"+e;this.cache[e]=!0}return this.cache[abs]=entries};GlobSync.prototype._readdirError=
function(f,er){switch(er.code){case "ENOTSUP":case "ENOTDIR":f=this._makeAbs(f);this.cache[f]="FILE";if(f===this.cwdAbs)throw f=Error(er.code+" invalid cwd "+this.cwd),f.path=this.cwd,f.code=er.code,f;break;case "ENOENT":case "ELOOP":case "ENAMETOOLONG":case "UNKNOWN":this.cache[this._makeAbs(f)]=!1;break;default:this.cache[this._makeAbs(f)]=!1;if(this.strict)throw er;this.silent||console.error("glob error",er)}};GlobSync.prototype._processGlobStar=function(prefix,read,abs,remain,index,inGlobStar){if(read=
this._readdir(abs,inGlobStar)){var remainWithoutGlobStar=remain.slice(1);prefix=prefix?[prefix]:[];var noGlobStar=prefix.concat(remainWithoutGlobStar);this._process(noGlobStar,index,!1);noGlobStar=read.length;if(!this.symlinks[abs]||!inGlobStar)for(abs=0;abs<noGlobStar;abs++)if("."!==read[abs].charAt(0)||this.dot)inGlobStar=prefix.concat(read[abs],remainWithoutGlobStar),this._process(inGlobStar,index,!0),inGlobStar=prefix.concat(read[abs],remain),this._process(inGlobStar,index,!0)}};GlobSync.prototype._processSimple=
function(prefix,index){var exists=this._stat(prefix);this.matches[index]||(this.matches[index]=Object.create(null));exists&&(prefix&&isAbsolute(prefix)&&!this.nomount&&(exists=/[\/\\]$/.test(prefix),"/"===prefix.charAt(0)?prefix=path.join(this.root,prefix):(prefix=path.resolve(this.root,prefix),exists&&(prefix+="/"))),"win32"===process.platform&&(prefix=prefix.replace(/\\/g,"/")),this._emitMatch(index,prefix))};GlobSync.prototype._stat=function(f){var abs=this._makeAbs(f),needDir="/"===f.slice(-1);
if(f.length>this.maxLength)return!1;if(!this.stat&&ownProp(this.cache,abs)){f=this.cache[abs];Array.isArray(f)&&(f="DIR");if(!needDir||"DIR"===f)return f;if(needDir&&"FILE"===f)return!1}var stat=this.statCache[abs];if(!stat){try{var lstat=fs.lstatSync(abs)}catch(er){if(er&&("ENOENT"===er.code||"ENOTDIR"===er.code))return this.statCache[abs]=!1}if(lstat&&lstat.isSymbolicLink())try{stat=fs.statSync(abs)}catch(er$3){stat=lstat}else stat=lstat}this.statCache[abs]=stat;f=!0;stat&&(f=stat.isDirectory()?
"DIR":"FILE");this.cache[abs]=this.cache[abs]||f;return needDir&&"FILE"===f?!1:f};GlobSync.prototype._mark=function(p){return common.mark(this,p)};GlobSync.prototype._makeAbs=function(f){return common.makeAbs(this,f)}}
//# sourceMappingURL=module$node_modules$glob$sync.js.map
